# ==================================================
# TEST ENVIRONMENT - Used by pytest
# ==================================================
# CRITICAL: This file is used ONLY for unit tests
# - No external API calls (all mocked)
# - No real costs
# - Fast execution

# ==================================================
# JWT AUTHENTICATION
# ==================================================
JWT_SECRET_KEY=test-jwt-secret-key-for-unit-tests-only

# ==================================================
# ENCRYPTION (Fernet symmetric encryption for Equipment)
# ==================================================
# Test encryption key (generated with Fernet.generate_key())
# IMPORTANT: This is a TEST-ONLY key, different from DEV/PROD keys
ENCRYPTION_SECRET_KEY=81AqGBMS8T6UO8ua_Q9UBADAPChqL4-_kbOdaftBeUg=

# ==================================================
# LOGGING
# ==================================================
LOG_LEVEL=WARNING
CHAT_DEBUG_LOGGING=false

# ==================================================
# IMAGE STORAGE
# ==================================================
IMAGES_DIR=/tmp/test_images
IMAGE_BASE_URL=http://localhost:5050/api/v1/image
DELETE_PHYSICAL_FILES=false

# ==================================================
# CELERY (Mock URLs - no real Redis needed for unit tests)
# ==================================================
CELERY_BROKER_URL=memory://
CELERY_RESULT_BACKEND=cache+memory://

# ==================================================
# MUREKA API (Mock - no real API calls in unit tests)
# ==================================================
MUREKA_API_KEY=test-key
MUREKA_GENERATE_ENDPOINT=http://localhost:9999/mock/mureka/generate
MUREKA_INSTRUMENTAL_GENERATE_ENDPOINT=http://localhost:9999/mock/mureka/instrumental
MUREKA_STATUS_ENDPOINT=http://localhost:9999/mock/mureka/status
MUREKA_INSTRUMENTAL_STATUS_ENDPOINT=http://localhost:9999/mock/mureka/instrumental/status
MUREKA_BILLING_URL=http://localhost:9999/mock/mureka/billing
MUREKA_STEM_GENERATE_ENDPOINT=http://localhost:9999/mock/mureka/stem
MUREKA_MODEL=auto
MUREKA_TIMEOUT=1
MUREKA_POLL_INTERVAL=1
MUREKA_MAX_POLL_ATTEMPTS=3
MUREKA_CHOICES=1

# ==================================================
# OLLAMA (Mock - no real Ollama needed for unit tests)
# ==================================================
OLLAMA_URL=http://localhost:9999/mock/ollama
OLLAMA_TIMEOUT=1
OLLAMA_CHAT_MODELS=test-model
OLLAMA_DEFAULT_MODEL=test-model

# ==================================================
# REDIS (Mock - no real Redis needed for unit tests)
# ==================================================
REDIS_URL=redis://localhost:9999

# ==================================================
# FLASK SERVER
# ==================================================
FLASK_SERVER_PORT=5050
FLASK_SERVER_HOST=127.0.0.1

# ==================================================
# OPENAI (Mock - no real OpenAI API in unit tests)
# ==================================================
OPENAI_API_KEY=test-openai-key
OPENAI_ADMIN_API_KEY=test-admin-key
OPENAI_ADMIN_BASE_URL=http://localhost:9999/mock/openai
OPENAI_IMAGE_MODEL=test-model
OPENAI_CHAT_MODELS=test-gpt-4,test-gpt-3.5
OPENAI_TIMEOUT=1
OPENAI_ADMIN_TIMEOUT=1
OPENAI_COST_CACHE_TTL=0

# ==================================================
# APPLICATION
# ==================================================
DEBUG=false

# ==================================================
# DATABASE (In-Memory SQLite for unit tests - fast, no PostgreSQL needed)
# ==================================================
# IMPORTANT: Unit tests should use SQLite in-memory database
# Integration tests can use PostgreSQL test database
DATABASE_URL=sqlite:///:memory:
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=test_db
POSTGRES_USER=test_user
POSTGRES_PASSWORD=test_password
