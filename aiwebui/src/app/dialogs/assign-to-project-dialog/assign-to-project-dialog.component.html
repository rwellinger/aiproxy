<h2 mat-dialog-title>{{ 'assignToProject.title.' + data.assetType | translate }}</h2>

<mat-dialog-content>
  <!-- Error Message -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage | translate }}
  </div>

  <!-- Project Selection -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>{{ 'assignToProject.selectProject' | translate }}</mat-label>
    <mat-select
      [(ngModel)]="selectedProjectId"
      (selectionChange)="onProjectChange()"
      [disabled]="loading">
      <mat-option *ngFor="let project of projects" [value]="project.id">
        {{ project.project_name }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Folder Selection (only if project selected and folders exist) -->
  <mat-form-field
    *ngIf="selectedProjectId && folders.length > 0"
    appearance="outline"
    class="full-width">
    <mat-label>{{ 'assignToProject.selectFolder' | translate }}</mat-label>
    <mat-select [(ngModel)]="selectedFolderId" [disabled]="loading">
      <mat-option [value]="null">{{ 'assignToProject.noFolder' | translate }}</mat-option>
      <mat-option *ngFor="let folder of folders" [value]="folder.id">
        {{ folder.folder_name }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- No Folders Info -->
  <div *ngIf="selectedProjectId && folders.length === 0 && !loading" class="info-message">
    {{ 'assignToProject.noFoldersAvailable' | translate }}
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button
    mat-button
    (click)="cancel()"
    [disabled]="loading"
    class="cancel-button">
    {{ 'common.cancel' | translate }}
  </button>
  <button
    mat-raised-button
    color="primary"
    (click)="save()"
    [disabled]="!selectedProjectId || loading"
    class="save-button">
    {{ loading ? ('common.saving' | translate) : ('common.save' | translate) }}
  </button>
</mat-dialog-actions>
